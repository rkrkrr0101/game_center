작업일지는 루트의 해야할일.txt에,고민했던사항들은 루트의 메모.txt에 적었습니다  
뷰 시작은  
http://127.0.0.1:8080/view/memberview  
입니다  

## 질문  
### 1.페이크 레포지토리를 만드것에 대한 질문
이 프로젝트는 아니었지만 페이크레포지토리에 페이징들어가고 그러면서 레포지토리에서 이상한짓하기시작하면 만드는게 너무힘들었는데,  
그러면 로직이 복잡해지니 제가 만들고도 페이크레포지토리 코드를 믿지못하게 됐습니다.그러면 페이크레포지토리의 테스트를 또만들어야하나요?  
아니면 어짜피 레포지토리는 로직이 비슷하니 한번 만들고 믿을만해지면 복붙해서사용하면되나요?  
좀 쉽게 이런거 만드는방법이 있나요?
참고:https://github.com/rkrkrr0101/Kotlin-CRUD-Spring-Board/blob/main/src/test/kotlin/com/kotlin/board/mock/FakePostRepository.kt

> [!NOTE]  
> DAO/Repository는 DB에 대한 인터페이스라고 봐야합니다. 그 자체로 기능을 구현하지 않기 때문입니다. 따라서 Repository를 fake로 기능까지 구현하는 것은 바람직하지 못합니다.
> Mock/Stub을 이용해서 호출 여부만 확인하는 방법, 또는 테스트용 db까지 연결해서 통합 테스트로 테스트해야 합니다. 

### 2.로깅은 어떻게해야하나에 대한 질문  
일단 warn과 error은 예외발생시에
> warn(사용자쪽에서 뭐 잘못하거나,시스템영역에서 해결불가능한 문제일경우,즉 가입이 뭐 빼먹었다거나,혹은 외부api실패등)  
> error(프론트나 백이나의 로직문제일경우,리퀘스트바디 파싱실패등)  
> 
를 던지는중인데,info를 어떻게 써야할지 모르겠습니다.  
즉 정상로직중 로깅을 뭘해야할지 모르겠습니다  
그냥 모든행동마다 다 달자고하니 의미없는 로그가 될거같고,
이런거에 있어 여기여기엔 로그를 남겨야겠다는 판단근거가 있을까요?  

> [!NOTE]  
> 로깅은 프로젝트 정책에 따라서 레벨을 정합니다. 딱히 정해진 답은 없습니다. 
> 저는 운영서버에서도 남겨서 확인할 주요 로그는 INFO로, 디버깅할 때가 아니라면 개발/테스트 서버에서만 남기는 것은 DEBUG으로 설정합니다.

### 3.requestBody로 커스텀LocalDate받기
3. localDate의존성 약화과정에서 있었던일인데,localDate를 감싼 포트어댑터(customDate)를 만들어서 dto가 그걸 의존하게 해서 의존성을 줄였습니다  
   근데 그과정에서 controller의 @RequestBody로 직접받는건 포기하고싶지 않은데 저걸 리퀘스트바디로 받을방법이 생각나지않아,
   그냥 컨트롤러에다가 책임을 넘겨버렸습니다(customDate초기화를 컨트롤러에 맡김)  
   이러면 실수할수도 있고(빼먹으면 밸리데이션이 날아가니) 그래서 어지간하면 dto단에서 해결하고싶은데 방법이 없을까요?  
   (생각해본건 dto안에 dto감싸기? 서비스단에선 dto2를받고 컨트롤러는 dto1을받아서 customDate를 추가해 dto2를 만들어서 서비스로 던지기)  
   참고:https://rkrkrr0101.tistory.com/126   
   https://rkrkrr0101.tistory.com/127   

> [!NOTE]  
> 요청 데이터의 변환 등은 사용하는 라이브러리에 따라서 다르고, 그 안에 확장 기능(converter)을 추가할 수도 있어서 타입 지원 여부를 확인하시고, 적절한 바법을 선택하시면 됩니다.
> Date류라면 가능한 JSON 툴 안에서 해결하시는게 좋을 것 같고(추가 애노테이션 등을 붙일 수도 있습니다), 그냥 String으로 받아서 컨트롤러에서 변환하는 것도 나쁜 건 아닙니다.
> 혹은 DTO 내부에 문자를 날자로 변환하는 기능을 넣으실 수도 있습니다. 


### 4.e2e테스트의 외부api의존 문제  
e2e테스트때는 슬랙알림같은 외부api의존을 그냥 그대로 두는게 맞나요?  
즉 외부api호출까지 테스트하나요?  

> [!NOTE]  
> e2e라고 하면 보통 외부 서비스까지 연동시킵니다. 문제는 그걸 검증하기가 매우 어렵다는 것이죠.
> 그래서 api 쪽은 테스트용 목 서버를 이용합니다. 스프링부트에서 wiremock을 사용해서 테스트하는 방법을 검색해보세요. 

### 5.도메인서비스 이름붙이는법  
멤버의 레벨계산과 총카드수,총카드금액 계산을 멤버도메인에 뒀다가,별도의 도메인서비스로 분리했는데(멤버와 게임카드를 둘다 의존하는데 멤버에 두고싶지않아서)  
이런로직일때는 분리하는게 맞나요?  
도메인서비스의 패키지위치는 어디로가야하나요?그냥 도메인처럼 크게 한자리 줘도 되나요?  
그리고 도메인서비스는 이름을 어떻게붙여야하나요?이름이 생각해봐도 다 애매해서 정하기가 힘들어요  

> [!NOTE]  
> 특정 도메인에 넣기가 적합하지 않다면 도메인서비스를 만들어 쓰시는 것은 좋습니다. 여러 엔티티에 걸쳐있는 경우 별도의 패키지를 하나 만드시면 됩니다. 이름이 뭐가 좋을지는 저도..


### 6.전체적인 프로젝트 완성도 질문  
6.프로젝트 전체적으로 이렇게 짜면 괜찮나요?  
고쳐야할부분이나 미흡한부분 있을까요?  
저는 테스트쪽이 좀 맘대로 안돼서 그쪽을 좀 더 봐야겠다 라는 생각이 들었습니다  

> [!NOTE]  
> 제가 상세한 리뷰를 해드리기는 어렵습니다.
> 우선 코드가 잘 정리 안 된 느낌이 듭니다. IDE의 포맷팅 기능을 잘 쓰시면 좋겠습니다.
> > 꾸준히 좋은 코드를 살펴보시면서 연습하시면 좋겠습니다. 
> 수고 많으셨습니다.

